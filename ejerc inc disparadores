CREATE TABLE TRABAJADOR(ID INTEGER PRIMARY KEY,NOMBRE VARCHAR(20),SUELDO_BASE FLOAT);
CREATE TABLE RESPALDO(ID INTEGER PRIMARY KEY,NOMBRE VARCHAR2(20),SUELDO_BASE FLOAT);

--PARA HACER MAS SIMPLE EL DISPARADOR SE NECESITAN 2 PROCEDIMIENTOS UNO QUE CUENTA Y OTRO QUE BORRA Y COPIA
CREATE OR REPLACE TRIGGER DISP_TRABAJADOR AFTER INSERT ON TRABAJADOR FOR EACH ROW
BEGIN
IF REGISTRO <3 THEN
INSERT INTO RESPALDO VALUES(:NEW.ID, :NEW.NOMBRE, :NEW.SUELDO_BASE);
ELSE


DECLARE
CURSOR CUR_1 IS SELECT*FROM TRABAJADOR;
CURSOR CUR_2 IS SELECT*FROM RESPALDO;

BEGIN
FOR TRABAJADOR IN CUR_1 LOOP
FOR RESPALDO IN CUR_2 LOOP
IF TRABAJADOR.RESPALDO=TRABAJADOR.RESPALDO THEN
DBMS_OUTPUT.PUT_LINE('NOMBRE'||TRABAJADOR.NOMBRE||'SUELDO'||RESPALDO.SUELDO_BASE );

END IF;

END LOOP;
END LOOP;
END;
/

DBMS_OUTPUT.PUT_LINE('NOMBRE'||TRABAJADOR.NOMBRE||'SUELDO_BASE'||RESPALDO.SUELDO_BASE );
